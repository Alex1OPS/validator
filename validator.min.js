var validator=function(){var b,e,l,m,d,i,j,f,g,c,a,n=/[\(\)\<\>\,\;\:\\\/\"\[\]]/,o=/^.+@.+\..{2,3}$/;b={invalid:"invalid input",empty:"please put something here",min:"input is too short",max:"input is too long",number_min:"too low",number_max:"too high",url:"invalid URL",number:"not a number",email:"email address is invalid",email_repeat:"emails do not match",password_repeat:"passwords do not match",repeat:"no match",complete:"input is not complete",select:"Please select an option"};e={empty:function(){if(!a.val)c= b.empty,a.valid=!1;return a.valid},linked:function(){if($(":input[name="+a.validateLinked+"]").val()!=a.val)c=b[a.type+"_repeat"]||b.repeat,a.valid=!1},email:function(){if(!o.test(a.val)||a.val.match(n))c=a.val?b.email:b.empty,a.valid=!1},text:function(){if(!e.empty()){if(j){var k=a.val.split(" "),h;if(k.length<j||!function(a){var b=j,c;for(c=k.length;c--;)k[c].length>=a&&b--;return 0==b}(2))return c=b.complete,a.valid=!1}else if(a.val.length<f[0])c=b.min,a.valid=!1;else if(f[1]&&a.val.length>f[1])c= b.max,a.valid=!1;if(g){switch(g){case "alphanumeric":h=/^[a-z0-9]+$/i;break;case "numeric":h=/^[0-9]+$/i;break;case "phone":h=/^\+?([0-9]|[-|' '])+$/i;break;default:h=g}try{if(h&&!eval(h).test(a.val))a.valid=!1}catch(p){console.log(p,d,"regex is invalid")}}}},number:function(){if(e.empty()&&isNaN(parseFloat(a.val))&&!isFinite(a.val))c=b.number,a.valid=!1;else if(a.val.length<f[0])c=b.min,a.valid=!1;else if(f[1]&&a.val.length>f[1])c=b.max,a.valid=!1;else if(i[0]&&(a.val|0)<i[0])c=b.number_min,a.valid= !1;else if(i[1]&&(a.val|0)>i[1])c=b.number_max,a.valid=!1},date:function(){if(!e.empty()){var b,c=a.val.split(/\D+/).map(function(a){return parseInt(a,10)});try{b=new Date(c[2],c[0]-1,c[1]);if(b.getMonth()+1==c[0]&&b.getDate()==c[1])return b;a.valid=!1}catch(d){console.log("date test: ",err),a.valid=!1}}},url:function(){if(!/^(https?:\/\/)?([\w\d\-_]+\.+[A-Za-z]{2,})+\/?/.test(a.val))c=a.val?b.url:b.empty,a.valid=!1},hidden:function(){if(!e.empty()){if(a.val.length<f[0])c=b.min,a.valid=!1;if(g){var d; if("alphanumeric"==g&&(d=/^[a-z0-9]+$/i,!d.test(a.val)))a.valid=!1}}},select:function(){if(!a.val)c=b.select,a.valid=!1}};l=function(a,b){var c=a.parents(".item"),d;c.hasClass("bad")?c.find(".alert").text(b):(d=$("<div/>").addClass("alert").text(b),c.addClass("bad").append(d))};m=function(a){a.parents(".item").removeClass("bad").find(".alert").remove()};return{message:b,checkField:function(){d=$(this);if("hidden"!=d[0].type&&d.is(":hidden"))return!0;d.data("valid",!0);d.data("type",$(d).attr("type")); d.data("val",d[0].value.replace(/^\s+|\s+$/g,""));a=d.data();c=b[d.prop("name")]||b.invalid;if("select"===d[0].nodeName.toLowerCase())e.select();else{j=a.validateWords||0;f=a.validateLengthrange?(a.validateLengthrange+"").split(","):[1];i=a.validateMinmax?(a.validateMinmax+"").split(","):"";g=a.validatePattern;if($.fn.placeholder&&void 0!==d.attr("placeholder")&&a.val==d.prop("placeholder"))c=b.empty,a.valid=!1;a.validateLinked&&e.linked();switch(a.type){case "email":e.email();break;case "text":e.text(); break;case "tel":g=g||"phone";e.text();break;case "password":e.text();break;case "number":e.number();break;case "date":e.date();break;case "url":e.url();break;case "hidden":e.hidden()}}a.valid?m(d):(l(d,c),submit=!1);return a.valid},checkAll:function(a){var b=this,c=!0;a.find(":input[required]").add(".required").each(function(){var a=b.checkField.apply(this)||0;c*=a});return!!c}}};